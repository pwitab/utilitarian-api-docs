



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Utilitarian Documentation">
      
      
      
        <meta name="author" content="Henrik Palmlund Wahlgren">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.0.2">
    
    
      
        <title>Installation - Utilitarian Docs</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.982221ab.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.1f0bcf2b.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,400i,700|">
        <style>body,input{font-family:"Open Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#on-premise" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="Utilitarian Docs" class="md-header-nav__button md-logo">
          
            <i class="md-icon">cloud</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Utilitarian Docs
            </span>
            <span class="md-header-nav__topic">
              Installation
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="Utilitarian Docs" class="md-nav__button md-logo">
      
        <i class="md-icon">cloud</i>
      
    </a>
    Utilitarian Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Architecture
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Architecture
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../architecture/" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../protocols/" title="Protocols" class="md-nav__link">
      Protocols
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../meters/" title="Meters" class="md-nav__link">
      Meters
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../providers/" title="Providers" class="md-nav__link">
      Providers
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../open_source/" title="Open Source" class="md-nav__link">
      Open Source
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      On Premise
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        On Premise
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Installation
      </label>
    
    <a href="./" title="Installation" class="md-nav__link md-nav__link--active">
      Installation
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" title="Docker" class="md-nav__link">
    Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postgres" title="Postgres" class="md-nav__link">
    Postgres
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq" title="RabbitMQ" class="md-nav__link">
    RabbitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware" title="Hardware" class="md-nav__link">
    Hardware
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring" title="Monitoring" class="md-nav__link">
    Monitoring
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../using_https_on_api/" title="Use HTTPS" class="md-nav__link">
      Use HTTPS
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Utilitarian API Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Utilitarian API Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../api_docs/v_1_0_0.html" title="v1.0.0" class="md-nav__link">
      v1.0.0
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../pwit/" title="PWIT AB" class="md-nav__link">
      PWIT AB
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#requirements" title="Requirements" class="md-nav__link">
    Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#docker" title="Docker" class="md-nav__link">
    Docker
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#installation" title="Installation" class="md-nav__link">
    Installation
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#postgres" title="Postgres" class="md-nav__link">
    Postgres
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rabbitmq" title="RabbitMQ" class="md-nav__link">
    RabbitMQ
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hardware" title="Hardware" class="md-nav__link">
    Hardware
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#monitoring" title="Monitoring" class="md-nav__link">
    Monitoring
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="on-premise">On Premise<a class="headerlink" href="#on-premise" title="Permanent link">#</a></h1>
<p><em>How to install and run Utilitarian</em></p>
<h2 id="requirements">Requirements<a class="headerlink" href="#requirements" title="Permanent link">#</a></h2>
<p>Utilitarian depends on the following systems:</p>
<ul>
<li>Postgres 10</li>
<li>RabbitMQ</li>
</ul>
<h2 id="docker">Docker<a class="headerlink" href="#docker" title="Permanent link">#</a></h2>
<p>All Utilitarian components are distributed via docker images.  </p>
<p>When you have purchased a Utilitarian License you will get a login account to 
be able to fetch the images via <code>docker-cli</code>.</p>
<p>As of now all PWIT docker images are stored in Quay and you will need to use the 
credentials supplied by us to log in and pull the images.</p>
<div class="codehilite"><pre><span></span>$ docker login quay.io
Login against server at https://quay.io/v1/
Username: pwitab+yourpullaccount
Password: ThePasswordGivenToYouFromPWIT
Email: any@example.com
</pre></div>


<p>Once you have logged in you can pull the images.</p>
<div class="codehilite"><pre><span></span>docker pull quay.io/pwitab/repo-name:version
</pre></div>


<h2 id="installation">Installation<a class="headerlink" href="#installation" title="Permanent link">#</a></h2>
<p>We will provide information on how to install and run the applications via 
<code>docker-compose</code>. In the future we will also provide instructions for Kubernetes.
Docker compose might not be the right tool to for you depending on your 
installation and system requirements but it is a good starting point and you 
will get a lot of insight on how to run the systems via this instruction. If 
you need assistance running Utilitarian in another environment please <a href="..#get-in-contact">contact us</a>. </p>
<h3 id="postgres">Postgres<a class="headerlink" href="#postgres" title="Permanent link">#</a></h3>
<p>We use Postgres as our database of choice. We recommend that you set up 
Postgres on a dedicated server or use a managed service for it. You can find out 
a lot about running Postgres <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-postgresql-on-ubuntu-18-04">online</a>.</p>
<p>Also make sure you have proper <a href="https://www.digitalocean.com/community/tutorials/how-to-secure-postgresql-on-an-ubuntu-vps">security settings</a>
and follow best practices. If you are running Postgres yourself you also want 
to set up a stable <a href="https://www.digitalocean.com/community/tutorials/how-to-backup-postgresql-databases-on-an-ubuntu-vps">backup function</a>.</p>
<p>After you have set up postgres you will supply the connection string in the format:</p>
<div class="codehilite"><pre><span></span>postgres://[user[:password]@][host][:port][,...][/dbname][?param1=value1&amp;...]
</pre></div>


<div class="codehilite"><pre><span></span># Example
postgres://myuser:mysecretpassword@localhost:5432/db_name
</pre></div>


<p>Postgres is available as a docker container and if you also want to run Postgres 
via docker make sure you set up a volume for it so that you don't loose any of 
your data. </p>
<div class="codehilite"><pre><span></span>docker pull postgres:10.7-alpine
</pre></div>


<h3 id="rabbitmq">RabbitMQ<a class="headerlink" href="#rabbitmq" title="Permanent link">#</a></h3>
<p>RabbitMQ is a message broker for the AMQP protocol. Utilitarian uses it for 
inter-application communication and data processing.</p>
<p>Checkout the <a href="https://www.rabbitmq.com/">official RabbitMQ</a> site to learn how 
to run RabbitMQ or purchase a managed solution from, for 
example <a href="https://www.cloudamqp.com/">CloudAMQP</a>.</p>
<p>You will need to provide a similar connection string for RabbitMQ as for Postgres:</p>
<div class="codehilite"><pre><span></span>amqp://[user[:password]@][host][:port][/vhost]]
</pre></div>


<div class="codehilite"><pre><span></span># Example
amqp://guest:guest@localhost:5672//
</pre></div>


<p>RabbitMQ can also be run as a container. Just be sure to add a volume for it so
you don't loose any data and we recommend that you include the management plugin 
so that you have an interface for management and debugging if something is not 
working correctly.</p>
<div class="codehilite"><pre><span></span>docker pull rabbitmq:3.7.13-management-alpine
</pre></div>


<h2 id="hardware">Hardware<a class="headerlink" href="#hardware" title="Permanent link">#</a></h2>
<p>We don’t have any real numbers to tell you what kind of hardware you’re going 
to need, but we’ll help you make your decision based on existing usage from 
real customers. It all depends on how many meters you are managing in Utilitarian 
and how much data you collect from them. If you have a wide range of different 
meters you must also take into consideration that you will have multiple 
services of different kinds running in your environment.</p>
<p>We provide means to scale horizontally but the database is still the single 
point of failure. Since you are free to set up the database the way your IT 
department or Ops team requires we leave this implementation detail to the 
customer.   </p>
<h2 id="monitoring">Monitoring<a class="headerlink" href="#monitoring" title="Permanent link">#</a></h2>
<p>We do not supply a standard solution to monitor the applications. All logs 
from the different applications are outputed on stdout via docker. So they are
accessible via docker logs. You can then hook up the docker logs to different 
logging drivers, see the <a href="https://docs.docker.com/config/containers/logging/configure/">official docker documentation</a>. </p>
<p>There are several solutions to application and log monitoring. For example 
Elastic Stack or Splunk. <a href="..#get-in-contact">Contact</a> us if you want help setting this up for your 
installation.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../open_source/" title="Open Source" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Open Source
              </span>
            </div>
          </a>
        
        
          <a href="../using_https_on_api/" title="Use HTTPS" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Use HTTPS
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Palmlund Wahlgren Innovative Technology AB
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/pwitab" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.d9aa80ab.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>