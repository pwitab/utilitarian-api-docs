{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Utilitarian Documentation # Welcome to the Utilitarian documentation. Utilitarian is a multi utility AMR (Automatic Meter Reading) tool system that gives you and your organisation a simple way to manager AMR operations over multiple energy medias, protocol and metering equipment. In this documentation we we cover everything about the product and our on-premise offerings. Get started # To get a better grip on how Utilitarian and all its component works together check out the Architecture page. If you are interested in what type of communication protocols we support go to the Protocols page. We are continuously adding new meters that we support, and even if we haven't tried out your meters yet we might already support them due to out general protocol interpreters, or we need to do some work to get them into the system. To get info on the meters we have already verified against Utilitarian go to the meters page and if you need custom work done please contact us . As of now we are offering Utilitarian as an on-premise services. Our client base of utility companies usually prefer it this way. But keep a look out for the managed cloud version of Utilitarian. To know more about how to run Utilitarian check out the installation page. Get in contact # Simplest way of getting in contact with us is via email: info@pwit.se","title":"Home"},{"location":"#utilitarian-documentation","text":"Welcome to the Utilitarian documentation. Utilitarian is a multi utility AMR (Automatic Meter Reading) tool system that gives you and your organisation a simple way to manager AMR operations over multiple energy medias, protocol and metering equipment. In this documentation we we cover everything about the product and our on-premise offerings.","title":"Utilitarian Documentation"},{"location":"#get-started","text":"To get a better grip on how Utilitarian and all its component works together check out the Architecture page. If you are interested in what type of communication protocols we support go to the Protocols page. We are continuously adding new meters that we support, and even if we haven't tried out your meters yet we might already support them due to out general protocol interpreters, or we need to do some work to get them into the system. To get info on the meters we have already verified against Utilitarian go to the meters page and if you need custom work done please contact us . As of now we are offering Utilitarian as an on-premise services. Our client base of utility companies usually prefer it this way. But keep a look out for the managed cloud version of Utilitarian. To know more about how to run Utilitarian check out the installation page.","title":"Get started"},{"location":"#get-in-contact","text":"Simplest way of getting in contact with us is via email: info@pwit.se","title":"Get in contact"},{"location":"architecture/","text":"Architecture # About architecture TODO","title":"Overview"},{"location":"architecture/#architecture","text":"About architecture TODO","title":"Architecture"},{"location":"components/","text":"Components in Utilitarian # Utilitarian API # The main application for Utilitarian. It stores all data and handles all scheduling of reading jobs. We provide a REST API to manage the data and jobs. docker pull quay.io/pwitab/utilitarian:version DLMS UDP Server # A high throughput UDP server to receive DLMS DataNotifications from meters. docker pull quay.io/pwitab/utilitarian-dlms-udp-server:version DLMS Processor # Many DLMS push messages are encrypted and to decrypt UDP messages in the receiving server would reduce throughput and we could loose messages if the server is not available to process them. Instead the UDP server sends the DLMS messages to the message broker and they are consumed by the DLMS Processor where they get decrypted and parsed into Meter Readings that is published back to the message broker. docker pull quay.io/pwitab/utilitarian-dlms-processor:version Utilitarian Poster # The Utilitarian poster is a queue consumer that will receive all data that are to be saved in the Utilitarian API and send it over HTTP to the correct endpoint. docker pull quay.io/pwitab/utilitarian-poster:version Database # Utilitarian user PostgreSQL as database. Message Broker # Utilitarian uses RabbitMQ as message broker.","title":"Components"},{"location":"components/#components-in-utilitarian","text":"","title":"Components in Utilitarian"},{"location":"components/#utilitarian-api","text":"The main application for Utilitarian. It stores all data and handles all scheduling of reading jobs. We provide a REST API to manage the data and jobs. docker pull quay.io/pwitab/utilitarian:version","title":"Utilitarian API"},{"location":"components/#dlms-udp-server","text":"A high throughput UDP server to receive DLMS DataNotifications from meters. docker pull quay.io/pwitab/utilitarian-dlms-udp-server:version","title":"DLMS UDP Server"},{"location":"components/#dlms-processor","text":"Many DLMS push messages are encrypted and to decrypt UDP messages in the receiving server would reduce throughput and we could loose messages if the server is not available to process them. Instead the UDP server sends the DLMS messages to the message broker and they are consumed by the DLMS Processor where they get decrypted and parsed into Meter Readings that is published back to the message broker. docker pull quay.io/pwitab/utilitarian-dlms-processor:version","title":"DLMS Processor"},{"location":"components/#utilitarian-poster","text":"The Utilitarian poster is a queue consumer that will receive all data that are to be saved in the Utilitarian API and send it over HTTP to the correct endpoint. docker pull quay.io/pwitab/utilitarian-poster:version","title":"Utilitarian Poster"},{"location":"components/#database","text":"Utilitarian user PostgreSQL as database.","title":"Database"},{"location":"components/#message-broker","text":"Utilitarian uses RabbitMQ as message broker.","title":"Message Broker"},{"location":"installation/","text":"On Premise # How to install and run Utilitarian Requirements # Utilitarian depends on the following systems: Postgres 10 RabbitMQ Docker # All Utilitarian components are distributed via docker images. When you have purchased a Utilitarian License you will get a login account to be able to fetch the images via docker-cli . As of now all PWIT docker images are stored in Quay and you will need to use the credentials supplied by us to log in and pull the images. $ docker login quay.io Login against server at https://quay.io/v1/ Username: pwitab+yourpullaccount Password: ThePasswordGivenToYouFromPWIT Email: any@example.com Once you have logged in you can pull the images. docker pull quay.io/pwitab/repo-name:version Installation # We will provide information on how to install and run the applications via docker-compose . In the future we will also provide instructions for Kubernetes. Docker compose might not be the right tool to for you depending on your installation and system requirements but it is a good starting point and you will get a lot of insight on how to run the systems via this instruction. If you need assistance running Utilitarian in another environment please contact us . Postgres # We use Postgres as our database of choice. We recommend that you set up Postgres on a dedicated server or use a managed service for it. You can find out a lot about running Postgres online . Also make sure you have proper security settings and follow best practices. If you are running Postgres yourself you also want to set up a stable backup function . After you have set up postgres you will supply the connection string in the format: postgres://[user[:password]@][host][:port][,...][/dbname][?param1=value1&...] # Example postgres://myuser:mysecretpassword@localhost:5432/db_name Postgres is available as a docker container and if you also want to run Postgres via docker make sure you set up a volume for it so that you don't loose any of your data. docker pull postgres:10.7-alpine RabbitMQ # RabbitMQ is a message broker for the AMQP protocol. Utilitarian uses it for inter-application communication and data processing. Checkout the official RabbitMQ site to learn how to run RabbitMQ or purchase a managed solution from, for example CloudAMQP . You will need to provide a similar connection string for RabbitMQ as for Postgres: amqp://[user[:password]@][host][:port][/vhost]] # Example amqp://guest:guest@localhost:5672// RabbitMQ can also be run as a container. Just be sure to add a volume for it so you don't loose any data and we recommend that you include the management plugin so that you have an interface for management and debugging if something is not working correctly. docker pull rabbitmq:3.7.13-management-alpine Hardware # We don\u2019t have any real numbers to tell you what kind of hardware you\u2019re going to need, but we\u2019ll help you make your decision based on existing usage from real customers. It all depends on how many meters you are managing in Utilitarian and how much data you collect from them. If you have a wide range of different meters you must also take into consideration that you will have multiple services of different kinds running in your environment. We provide means to scale horizontally but the database is still the single point of failure. Since you are free to set up the database the way your IT department or Ops team requires we leave this implementation detail to the customer. Monitoring # We do not supply a standard solution to monitor the applications. All logs from the different applications are outputed on stdout via docker. So they are accessible via docker logs. You can then hook up the docker logs to different logging drivers, see the official docker documentation . There are several solutions to application and log monitoring. For example Elastic Stack or Splunk. Contact us if you want help setting this up for your installation.","title":"Installation"},{"location":"installation/#on-premise","text":"How to install and run Utilitarian","title":"On Premise"},{"location":"installation/#requirements","text":"Utilitarian depends on the following systems: Postgres 10 RabbitMQ","title":"Requirements"},{"location":"installation/#docker","text":"All Utilitarian components are distributed via docker images. When you have purchased a Utilitarian License you will get a login account to be able to fetch the images via docker-cli . As of now all PWIT docker images are stored in Quay and you will need to use the credentials supplied by us to log in and pull the images. $ docker login quay.io Login against server at https://quay.io/v1/ Username: pwitab+yourpullaccount Password: ThePasswordGivenToYouFromPWIT Email: any@example.com Once you have logged in you can pull the images. docker pull quay.io/pwitab/repo-name:version","title":"Docker"},{"location":"installation/#installation","text":"We will provide information on how to install and run the applications via docker-compose . In the future we will also provide instructions for Kubernetes. Docker compose might not be the right tool to for you depending on your installation and system requirements but it is a good starting point and you will get a lot of insight on how to run the systems via this instruction. If you need assistance running Utilitarian in another environment please contact us .","title":"Installation"},{"location":"installation/#postgres","text":"We use Postgres as our database of choice. We recommend that you set up Postgres on a dedicated server or use a managed service for it. You can find out a lot about running Postgres online . Also make sure you have proper security settings and follow best practices. If you are running Postgres yourself you also want to set up a stable backup function . After you have set up postgres you will supply the connection string in the format: postgres://[user[:password]@][host][:port][,...][/dbname][?param1=value1&...] # Example postgres://myuser:mysecretpassword@localhost:5432/db_name Postgres is available as a docker container and if you also want to run Postgres via docker make sure you set up a volume for it so that you don't loose any of your data. docker pull postgres:10.7-alpine","title":"Postgres"},{"location":"installation/#rabbitmq","text":"RabbitMQ is a message broker for the AMQP protocol. Utilitarian uses it for inter-application communication and data processing. Checkout the official RabbitMQ site to learn how to run RabbitMQ or purchase a managed solution from, for example CloudAMQP . You will need to provide a similar connection string for RabbitMQ as for Postgres: amqp://[user[:password]@][host][:port][/vhost]] # Example amqp://guest:guest@localhost:5672// RabbitMQ can also be run as a container. Just be sure to add a volume for it so you don't loose any data and we recommend that you include the management plugin so that you have an interface for management and debugging if something is not working correctly. docker pull rabbitmq:3.7.13-management-alpine","title":"RabbitMQ"},{"location":"installation/#hardware","text":"We don\u2019t have any real numbers to tell you what kind of hardware you\u2019re going to need, but we\u2019ll help you make your decision based on existing usage from real customers. It all depends on how many meters you are managing in Utilitarian and how much data you collect from them. If you have a wide range of different meters you must also take into consideration that you will have multiple services of different kinds running in your environment. We provide means to scale horizontally but the database is still the single point of failure. Since you are free to set up the database the way your IT department or Ops team requires we leave this implementation detail to the customer.","title":"Hardware"},{"location":"installation/#monitoring","text":"We do not supply a standard solution to monitor the applications. All logs from the different applications are outputed on stdout via docker. So they are accessible via docker logs. You can then hook up the docker logs to different logging drivers, see the official docker documentation . There are several solutions to application and log monitoring. For example Elastic Stack or Splunk. Contact us if you want help setting this up for your installation.","title":"Monitoring"},{"location":"meters/","text":"Meters # Meters we support Fiorentini # RSE/2001 LA # A NB-IoT Gas Meter. Uses an Italian companion standard to DLMS. Used in the first commercial rollout of NB-IoT Smart Meters in Sweden. Elster # EK 280 # Electronic volume conversion device with optional integrated communication module and configurable data interface. Protocol supported: LIS-200","title":"Meters"},{"location":"meters/#meters","text":"Meters we support","title":"Meters"},{"location":"meters/#fiorentini","text":"","title":"Fiorentini"},{"location":"meters/#rse2001-la","text":"A NB-IoT Gas Meter. Uses an Italian companion standard to DLMS. Used in the first commercial rollout of NB-IoT Smart Meters in Sweden.","title":"RSE/2001 LA"},{"location":"meters/#elster","text":"","title":"Elster"},{"location":"meters/#ek-280","text":"Electronic volume conversion device with optional integrated communication module and configurable data interface. Protocol supported: LIS-200","title":"EK 280"},{"location":"open_source/","text":"Open Source # We want Utilitarian to be a simple companion to our customers in their AMR operations. We provide documented interfaces and APIs to our services and messaging system. So you have the freedom of making use of the data as you see fit. For example if you need to make a special analytics service for some customers you can either get the data from the Utilitarian API or subscribe directly to it via the message broker. We provide some helpers to write your own integrations written in Python but since we are using AMQP and HTTP you can find implementations of those protocols in many programing languages and use the documentation in our helpers to speed up development of your own integrations in your language of choice. We also provide many libraries of the protocols we support as open source. Utilitarian Helpers # Utilitarian Queue Consumer # Check it out on GitHub: https://github.com/pwitab/utilitarian-queue-consumer The Utilitarian Queue Consumer is a micro framework to write consumers for the messages in Utilitarian. It gives you good default for consuming messages and producing new messages. AMR UM # Check it out on GitHub: https://github.com/pwitab/amr-um AMR UM (Unified Messaging for Automatic Meter Readings) is our attempt to have standard and well documented messaging framwork. In the repo you can find Python helpers to format the data and documentation on the different schemas used. Protocols # DLMS/COSEM # Check it out on GitHub: https://github.com/pwitab/dlms-cosem DLMS/COSEM (IEC 62056, EN13757-1) is the global standard for smart energy metering, control and management. It specifies an object-oriented data model, an application layer protocol and media-specific communication profiles.","title":"Open Source"},{"location":"open_source/#open-source","text":"We want Utilitarian to be a simple companion to our customers in their AMR operations. We provide documented interfaces and APIs to our services and messaging system. So you have the freedom of making use of the data as you see fit. For example if you need to make a special analytics service for some customers you can either get the data from the Utilitarian API or subscribe directly to it via the message broker. We provide some helpers to write your own integrations written in Python but since we are using AMQP and HTTP you can find implementations of those protocols in many programing languages and use the documentation in our helpers to speed up development of your own integrations in your language of choice. We also provide many libraries of the protocols we support as open source.","title":"Open Source"},{"location":"open_source/#utilitarian-helpers","text":"","title":"Utilitarian Helpers"},{"location":"open_source/#utilitarian-queue-consumer","text":"Check it out on GitHub: https://github.com/pwitab/utilitarian-queue-consumer The Utilitarian Queue Consumer is a micro framework to write consumers for the messages in Utilitarian. It gives you good default for consuming messages and producing new messages.","title":"Utilitarian Queue Consumer"},{"location":"open_source/#amr-um","text":"Check it out on GitHub: https://github.com/pwitab/amr-um AMR UM (Unified Messaging for Automatic Meter Readings) is our attempt to have standard and well documented messaging framwork. In the repo you can find Python helpers to format the data and documentation on the different schemas used.","title":"AMR UM"},{"location":"open_source/#protocols","text":"","title":"Protocols"},{"location":"open_source/#dlmscosem","text":"Check it out on GitHub: https://github.com/pwitab/dlms-cosem DLMS/COSEM (IEC 62056, EN13757-1) is the global standard for smart energy metering, control and management. It specifies an object-oriented data model, an application layer protocol and media-specific communication profiles.","title":"DLMS/COSEM"},{"location":"protocols/","text":"Protocols # The different protocols we support DLMS # TODO About dlms link to opensorce repo IEC 62056-21 # TODO About IEC 62056-21 Also used to be called IEC1107 link to open source code LIS-200 # TODO About LIS-200. Based on IEC62056-21 but allows for more freely defined objects. I-Flag # TODO Protocol from Itron. Link to open source repo MBus # TODO About Mbus Modbus # TODO General communication protocol for industry sector. Link to open source repo.","title":"Protocols"},{"location":"protocols/#protocols","text":"The different protocols we support","title":"Protocols"},{"location":"protocols/#dlms","text":"TODO About dlms link to opensorce repo","title":"DLMS"},{"location":"protocols/#iec-62056-21","text":"TODO About IEC 62056-21 Also used to be called IEC1107 link to open source code","title":"IEC 62056-21"},{"location":"protocols/#lis-200","text":"TODO About LIS-200. Based on IEC62056-21 but allows for more freely defined objects.","title":"LIS-200"},{"location":"protocols/#i-flag","text":"TODO Protocol from Itron. Link to open source repo","title":"I-Flag"},{"location":"protocols/#mbus","text":"TODO About Mbus","title":"MBus"},{"location":"protocols/#modbus","text":"TODO General communication protocol for industry sector. Link to open source repo.","title":"Modbus"},{"location":"providers/","text":"Provider specific implementations # Some metering equipment providers have well implemented integrations besides from pure metering protocols. This can involve HTTP Push, SMS or FTP uploads. To make life simpler we want to be able to provide integrations to provides with this kind of functionality and will work to implement as many of these as possible. Ongoing Development # We are currently not developing any provider specific implementations. If you are in need of an implementation please contact us .","title":"Providers"},{"location":"providers/#provider-specific-implementations","text":"Some metering equipment providers have well implemented integrations besides from pure metering protocols. This can involve HTTP Push, SMS or FTP uploads. To make life simpler we want to be able to provide integrations to provides with this kind of functionality and will work to implement as many of these as possible.","title":"Provider specific implementations"},{"location":"providers/#ongoing-development","text":"We are currently not developing any provider specific implementations. If you are in need of an implementation please contact us .","title":"Ongoing Development"},{"location":"pwit/","text":"Palmlund Wahlgren Innovative Technology AB # But we usually only say PWIT AB","title":"PWIT AB"},{"location":"pwit/#palmlund-wahlgren-innovative-technology-ab","text":"But we usually only say PWIT AB","title":"Palmlund Wahlgren Innovative Technology AB"},{"location":"using_https_on_api/","text":"Run Utilitarian API under HTTPS # The main application does not provide any means to run under HTTPS. This is done via a reverse proxy like NginX or HAProxy. Having a reverse proxy also simplifies load balancing if you need to scale up the API. We leave it up to the customer to define the way they want to terminate SSL/TLS and handle load balancing but will of course provide help if needed. Settings in Utilitarian API if running under HTTPS: # TODO...","title":"Use HTTPS"},{"location":"using_https_on_api/#run-utilitarian-api-under-https","text":"The main application does not provide any means to run under HTTPS. This is done via a reverse proxy like NginX or HAProxy. Having a reverse proxy also simplifies load balancing if you need to scale up the API. We leave it up to the customer to define the way they want to terminate SSL/TLS and handle load balancing but will of course provide help if needed.","title":"Run Utilitarian API under HTTPS"},{"location":"using_https_on_api/#settings-in-utilitarian-api-if-running-under-https","text":"TODO...","title":"Settings in Utilitarian API if running under HTTPS:"}]}